<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QQç½‘å›¾é‰´åˆ«</title>
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f5ff 0%, #e6f0ff 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }
        
        .container {
            max-width: 850px;
            width: 100%;
            background: white;
            border-radius: 18px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #2c6eb5, #1a4e8c);
            color: white;
            padding: 28px 30px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.92;
            margin-top: 8px;
            font-weight: 300;
        }
        
        .main-content {
            padding: 35px;
        }
        
        .upload-area {
            border: 3px dashed #2c6eb5;
            border-radius: 16px;
            padding: 45px 20px;
            text-align: center;
            background: #f8fbff;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 35px;
            position: relative;
            overflow: hidden;
        }
        
        .upload-area:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #2c6eb5, #1a4e8c);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }
        
        .upload-area:hover:before, 
        .upload-area.drag-over:before {
            transform: scaleX(1);
        }
        
        .upload-area:hover, .upload-area.drag-over {
            background: #edf5ff;
            border-color: #1a4e8c;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(44, 110, 181, 0.15);
        }
        
        .upload-icon {
            font-size: 58px;
            color: #2c6eb5;
            margin-bottom: 18px;
            text-shadow: 0 3px 8px rgba(44, 110, 181, 0.2);
        }
        
        .upload-text {
            font-size: 22px;
            margin-bottom: 12px;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .upload-hint {
            font-size: 15px;
            color: #6b7c93;
            margin-top: 10px;
            max-width: 500px;
            margin: 10px auto 0;
            line-height: 1.5;
        }
        
        #file-input {
            display: none;
        }
        
        .btn {
            background: linear-gradient(90deg, #2c6eb5, #1a4e8c);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-size: 17px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 25px;
            display: inline-block;
            font-weight: 500;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(44, 110, 181, 0.25);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(44, 110, 181, 0.35);
        }
        
        .info-section {
            display: none;
            margin-top: 35px;
            background: #f8fbff;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #e1e9f7;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #1a4e8c;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e1e9f7;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 3px;
            background: #2c6eb5;
            border-radius: 3px;
        }
        
        .image-preview {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        #preview {
            max-width: 100%;
            max-height: 350px;
            border-radius: 10px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 22px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            border-left: 4px solid #2c6eb5;
            transition: transform 0.3s;
        }
        
        .info-card:hover {
            transform: translateY(-5px);
        }
        
        .info-label {
            font-size: 15px;
            color: #6b7c93;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .info-value {
            font-size: 20px;
            font-weight: 600;
            color: #1a4e8c;
        }
        
        .exif-info {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }
        
        .exif-items {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 18px;
            margin-top: 20px;
        }
        
        .exif-item {
            text-align: center;
            padding: 16px;
            background: #f0f6ff;
            border-radius: 10px;
            border: 1px solid #dbe7ff;
            transition: all 0.3s;
            min-width: 120px;
        }
        
        .exif-item:hover {
            background: #e4eeff;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(44, 110, 181, 0.15);
        }
        
        .exif-value {
            font-weight: 700;
            margin-top: 8px;
            color: #2c6eb5;
            font-size: 18px;
            word-break: break-word;
        }
        
        .no-exif {
            text-align: center;
            padding: 30px;
            font-size: 18px;
            color: #7f8c8d;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .analysis-result {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            margin-top: 20px;
        }
        
        .probability-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .probability-label {
            font-size: 20px;
            font-weight: 600;
            color: #1a4e8c;
        }
        
        .probability-text {
            font-size: 42px;
            font-weight: 700;
            padding: 10px 30px;
            border-radius: 12px;
            background: #f8fbff;
            border: 3px solid #2c6eb5;
            min-width: 160px;
            text-align: center;
        }
        
        .probability-low {
            color: #27ae60;
        }
        
        .probability-medium {
            color: #f39c12;
        }
        
        .probability-high {
            color: #e74c3c;
        }
        
        .report {
            margin-top: 25px;
            padding: 22px;
            background: #f9fbfe;
            border-radius: 12px;
            border-left: 4px solid #2c6eb5;
            font-size: 16px;
            line-height: 1.7;
            color: #2c3e50;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.04);
        }
        
        .report-item {
            margin-bottom: 12px;
            display: flex;
        }
        
        .report-item:before {
            content: 'â€¢';
            color: #2c6eb5;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .conclusion {
            margin-top: 25px;
            padding: 18px 25px;
            background: linear-gradient(90deg, #e6f2ff, #f0f7ff);
            border-radius: 12px;
            font-weight: 700;
            color: #1a4e8c;
            font-size: 19px;
            border: 1px solid #d0e2ff;
            text-align: center;
        }
        
        .note {
            margin-top: 30px;
            padding: 20px;
            background: #fffbf0;
            border-radius: 12px;
            font-size: 15px;
            color: #7d6608;
            border-left: 4px solid #f1c40f;
            line-height: 1.6;
        }
        
        .beauty-software {
            background: #fff0f0;
            border-radius: 8px;
            padding: 12px 15px;
            margin-top: 15px;
            font-weight: 500;
            color: #c0392b;
            border-left: 3px solid #e74c3c;
        }
        
        @media (max-width: 900px) {
            .exif-items {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 700px) {
            .main-content {
                padding: 25px 18px;
            }
            
            header {
                padding: 22px 18px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .upload-area {
                padding: 35px 15px;
            }
            
            .exif-items {
                grid-template-columns: 1fr;
            }
            
            .exif-item {
                min-width: auto;
            }
            
            .probability-text {
                font-size: 36px;
                padding: 8px 25px;
            }
        }
        
        @media (max-width: 480px) {
            .probability-text {
                font-size: 32px;
                padding: 6px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>QQç½‘å›¾é‰´åˆ«</h1>
            <div class="subtitle">ä»…ä¾›å¨±ä¹ Â· å¹¶éå‡†ç¡®</div>
        </header>
        
        <div class="main-content">
            <div class="upload-area" id="upload-area">
                <div class="upload-icon">ğŸ–¼ï¸</div>
                <div class="upload-text">æ‹–æ”¾å›¾ç‰‡æˆ–ç‚¹å‡»ä¸Šä¼ </div>
                <div class="upload-hint">æ”¯æŒJPGæ ¼å¼å›¾ç‰‡ï¼Œæœ€å¤§15MB</div>
                <button class="btn" id="select-btn">é€‰æ‹©å›¾ç‰‡</button>
                <input type="file" id="file-input" accept="image/jpeg">
            </div>
            
            <div class="info-section" id="info-section">
                <div class="image-preview">
                    <img id="preview" src="" alt="å›¾ç‰‡é¢„è§ˆ">
                </div>
                
                <h2 class="section-title">åŸºç¡€ä¿¡æ¯</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-label">åˆ†è¾¨ç‡</div>
                        <div class="info-value" id="resolution">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">æ–‡ä»¶å¤§å°</div>
                        <div class="info-value" id="file-size">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">QQå‹ç¼©æœºåˆ¶</div>
                        <div class="info-value" id="compression">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">EXIFä¿¡æ¯</div>
                        <div class="info-value" id="exif-status">-</div>
                    </div>
                </div>
                
                <h2 class="section-title">EXIFå…³é”®ä¿¡æ¯</h2>
                <div class="exif-info">
                    <div class="exif-items" id="exif-items">
                        <div class="exif-item">
                            <div>ISOæ„Ÿå…‰åº¦</div>
                            <div class="exif-value" id="exif-iso">-</div>
                        </div>
                        <div class="exif-item">
                            <div>ç„¦è·</div>
                            <div class="exif-value" id="exif-focal">-</div>
                        </div>
                        <div class="exif-item">
                            <div>é—ªå…‰ç¯</div>
                            <div class="exif-value" id="exif-flash">-</div>
                        </div>
                        <div class="exif-item">
                            <div>ç™½å¹³è¡¡</div>
                            <div class="exif-value" id="exif-whitebalance">-</div>
                        </div>
                    </div>
                    <div class="no-exif" id="no-exif" style="display:none;">
                        æœªæ£€æµ‹åˆ°å…³é”®EXIFä¿¡æ¯
                    </div>
                </div>
                
                <h2 class="section-title">åˆ†æç»“æœ</h2>
                <div class="analysis-result">
                    <div class="probability-container">
                        <div class="probability-label">ç½‘å›¾æ¦‚ç‡ï¼š</div>
                        <div class="probability-text" id="probability-text">0%</div>
                    </div>
                    
                    <div class="report" id="report">
                        <div class="report-item">ä¸Šä¼ å›¾ç‰‡åï¼Œç³»ç»Ÿå°†è‡ªåŠ¨åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Š</div>
                    </div>
                    
                    <div id="beauty-software-container"></div>
                    
                    <div class="conclusion" id="conclusion"></div>
                </div>
                
                <div class="note">
                    <strong>æ£€æµ‹åŸç†è¯´æ˜ï¼š</strong> 
                    ç»ˆæç‰ˆï¼ŒåŸç†æ‡’å¾—å†™ï¼Œæ¦‚ç‡ä»…ä¾›å¨±ä¹ï¼Œå¹¶é100%å‡†ç¡®ï¼Œè¯·ä¸è¦é‰´åˆ«æˆªå±æˆ–è¡¨æƒ…
                    TTMax66
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('file-input');
            const uploadArea = document.getElementById('upload-area');
            const selectBtn = document.getElementById('select-btn');
            const infoSection = document.getElementById('info-section');
            const preview = document.getElementById('preview');
            const reportContainer = document.getElementById('report');
            const beautySoftwareContainer = document.getElementById('beauty-software-container');
            const exifItems = document.getElementById('exif-items');
            const noExif = document.getElementById('no-exif');
            const probabilityText = document.getElementById('probability-text');
            
            // ç‚¹å‡»ä¸Šä¼ åŒºåŸŸè§¦å‘æ–‡ä»¶é€‰æ‹©
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            selectBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                fileInput.click();
            });
            
            // æ‹–æ”¾åŠŸèƒ½
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('drag-over');
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.classList.remove('drag-over');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
                
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            // æ–‡ä»¶é€‰æ‹©å¤„ç†
            fileInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    handleFile(this.files[0]);
                }
            });
            
            // å¤„ç†ä¸Šä¼ çš„å›¾ç‰‡
            function handleFile(file) {
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                if (!file.type.match('image/jpeg')) {
                    alert('è¯·ä¸Šä¼ JPGæ ¼å¼çš„å›¾ç‰‡ï¼');
                    return;
                }
                
                // æ£€æŸ¥æ–‡ä»¶å¤§å°
                if (file.size > 15 * 1024 * 1024) {
                    alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡15MBï¼');
                    return;
                }
                
                // æ¸…ç©ºä¹‹å‰çš„ç»“æœ
                reportContainer.innerHTML = '<div class="report-item">æ­£åœ¨åˆ†æå›¾ç‰‡...</div>';
                beautySoftwareContainer.innerHTML = '';
                document.getElementById('conclusion').textContent = '';
                probabilityText.textContent = '0%';
                probabilityText.className = 'probability-text';
                
                // æ˜¾ç¤ºé¢„è§ˆ
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    infoSection.style.display = 'block';
                    
                    // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                    infoSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    // è·å–å›¾ç‰‡ä¿¡æ¯
                    getImageInfo(file, e.target.result);
                };
                reader.readAsDataURL(file);
            }
            
            // è·å–å›¾ç‰‡ä¿¡æ¯å¹¶è¿›è¡Œæ£€æµ‹
            function getImageInfo(file, src) {
                const img = new Image();
                img.src = src;
                
                img.onload = function() {
                    // è·å–åˆ†è¾¨ç‡
                    const width = img.naturalWidth;
                    const height = img.naturalHeight;
                    const resolution = `${width} Ã— ${height}`;
                    
                    // è·å–æ–‡ä»¶å¤§å°
                    const fileSize = (file.size / 1024).toFixed(1) + ' KB';
                    
                    // æ£€æµ‹QQå‹ç¼©æœºåˆ¶
                    const meetsCompression = width >= 1920 || height >= 1920;
                    const compressionText = meetsCompression ? 
                        'ç¬¦åˆ' : 'ä¸ç¬¦åˆ';
                    
                    // æ›´æ–°åŸºç¡€ä¿¡æ¯
                    document.getElementById('resolution').textContent = resolution;
                    document.getElementById('file-size').textContent = fileSize;
                    document.getElementById('compression').textContent = compressionText;
                    
                    // è·å–EXIFä¿¡æ¯
                    EXIF.getData(img, function() {
                        const iso = EXIF.getTag(this, "ISOSpeedRatings");
                        const focalLength = EXIF.getTag(this, "FocalLength");
                        const flash = EXIF.getTag(this, "Flash");
                        const whiteBalance = EXIF.getTag(this, "WhiteBalance");
                        const software = EXIF.getTag(this, "Software");
                        const model = EXIF.getTag(this, "Model");
                        const exposureTime = EXIF.getTag(this, "ExposureTime");
                        
                        // æ£€æµ‹æ˜¯å¦æœ‰EXIFä¿¡æ¯
                        const hasExif = iso || focalLength || flash || whiteBalance;
                        document.getElementById('exif-status').textContent = hasExif ? 'å­˜åœ¨' : 'æ— ';
                        
                        // æ›´æ–°EXIFä¿¡æ¯
                        document.getElementById('exif-iso').textContent = iso || '-';
                        if (focalLength) {
                            if (typeof focalLength === 'number') {
                                document.getElementById('exif-focal').textContent = focalLength;
                            } else {
                                document.getElementById('exif-focal').textContent = 
                                    focalLength.numerator + '/' + focalLength.denominator;
                            }
                        } else {
                            document.getElementById('exif-focal').textContent = '-';
                        }
                        document.getElementById('exif-flash').textContent = flash !== undefined ? flash : '-';
                        document.getElementById('exif-whitebalance').textContent = whiteBalance !== undefined ? whiteBalance : '-';
                        
                        // å¤„ç†æ— EXIFçš„æƒ…å†µ
                        if (!iso && !focalLength && !flash && !whiteBalance) {
                            exifItems.style.display = 'none';
                            noExif.style.display = 'block';
                        } else {
                            exifItems.style.display = 'grid';
                            noExif.style.display = 'none';
                        }
                        
                        // åˆ†æç½‘å›¾æ¦‚ç‡
                        analyzeImage(width, height, meetsCompression, hasExif, file.size, 
                                    software, model, exposureTime);
                    });
                };
            }
            
            // åˆ†æå›¾ç‰‡å¹¶ç”ŸæˆæŠ¥å‘Š
            function analyzeImage(width, height, meetsCompression, hasExif, fileSize, 
                                 software, model, exposureTime) {
                const maxResolution = Math.max(width, height);
                const commonResolutions = [720, 1080, 1280, 1440];
                const isCommonResolution = commonResolutions.includes(maxResolution);
                const fileSizeKB = fileSize / 1024;
                
                // æ£€æµ‹ç¾é¢œè½¯ä»¶
                let beautySoftwareDetected = false;
                let beautySoftwareName = "";
                if (software) {
                    const softwareLower = software.toLowerCase();
                    if (softwareLower.includes('meitu') || softwareLower.includes('ç¾å›¾')) {
                        beautySoftwareDetected = true;
                        beautySoftwareName = "ç¾å›¾ç§€ç§€";
                    } else if (softwareLower.includes('soda')) {
                        beautySoftwareDetected = true;
                        beautySoftwareName = "è½»é¢œç›¸æœº";
                    } else if (softwareLower.includes('ulike')) {
                        beautySoftwareDetected = true;
                        beautySoftwareName = "Ulike";
                    } else if (softwareLower.includes('beauty') || 
                              softwareLower.includes('camera') || 
                              softwareLower.includes('faceu') || 
                              softwareLower.includes('b612') || 
                              softwareLower.includes('snow')) {
                        beautySoftwareDetected = true;
                        beautySoftwareName = software;
                    }
                }
                
                // æ£€æµ‹è®¾å¤‡ä¿¡æ¯å’Œæ›å…‰æ—¶é—´ï¼ˆç”¨äºé™ä½ç½‘å›¾å¯èƒ½æ€§ï¼‰
                const hasDeviceInfo = !!model;
                const hasExposureTime = !!exposureTime;
                const hasCameraMetadata = hasDeviceInfo && hasExposureTime;
                
                let probability = 0;
                let reportItems = [];
                let conclusion = "";
                
                // æ£€æµ‹é€»è¾‘
                if (meetsCompression && hasExif) {
                    probability = 5;
                    reportItems.push("åˆ†è¾¨ç‡ç¬¦åˆQQå‹ç¼©æœºåˆ¶ä¸”åŒ…å«EXIFä¿¡æ¯ï¼Œæ˜¯æ­£å¸¸å›¾ç‰‡ç‰¹å¾");
                    
                    if (beautySoftwareDetected) {
                        reportItems.push(`æ£€æµ‹åˆ°ç¾é¢œè½¯ä»¶ç—•è¿¹: ${beautySoftwareName}`);
                    }
                    
                    conclusion = "ç»“è®ºï¼šæ­£å¸¸å›¾ç‰‡ï¼Œå¯èƒ½æ˜¯ç”¨æˆ·è‡ªå·±æ‹æ‘„çš„";
                } 
                else if (meetsCompression && !hasExif) {
                    probability = 25;
                    reportItems.push("åˆ†è¾¨ç‡ç¬¦åˆQQå‹ç¼©æœºåˆ¶ä½†ç¼ºå°‘EXIFä¿¡æ¯ï¼Œå¯èƒ½æ˜¯HEICè½¬æ¢çš„å›¾ç‰‡æˆ–æˆªå›¾");
                    
                    if (beautySoftwareDetected) {
                        probability = 20;
                        reportItems.push(`æ£€æµ‹åˆ°ç¾é¢œè½¯ä»¶ç—•è¿¹: ${beautySoftwareName}`);
                    }
                    
                    conclusion = "ç»“è®ºï¼šå¯èƒ½æ˜¯æˆªå›¾æˆ–HEICè½¬æ¢çš„å›¾ç‰‡";
                } 
                else if (!meetsCompression) {
                    if (!hasExif) {
                        probability = 70;
                        reportItems.push("åˆ†è¾¨ç‡ä¸ç¬¦åˆQQå‹ç¼©æœºåˆ¶ä¸”ç¼ºå°‘EXIFä¿¡æ¯");
                        
                        if (isCommonResolution) {
                            probability = 90;
                            reportItems.push(`åˆ†è¾¨ç‡ä¸ºç½‘å›¾å¸¸è§åˆ†è¾¨ç‡`);
                        }
                        
                        if (fileSizeKB < 512) {
                            probability = Math.min(probability + 10, 100);
                            reportItems.push(`æ–‡ä»¶è¾ƒå°ï¼Œç¬¦åˆç½‘å›¾å‹ç¼©ç‰¹å¾`);
                        }
                        
                        if (beautySoftwareDetected) {
                            reportItems.push(`æ£€æµ‹åˆ°ç¾é¢œè½¯ä»¶ç—•è¿¹: ${beautySoftwareName}`);
                        }
                        
                        conclusion = "ç»“è®ºï¼šé«˜æ¦‚ç‡ä¸ºç½‘å›¾";
                    } 
                    else {
                        // æ–‡ä»¶å¤§å°æ­£å¸¸ä½†åˆ†è¾¨ç‡ä½ä¸”æœ‰EXIF
                        if (fileSizeKB > 500) {
                            probability = 30;
                            reportItems.push("æ–‡ä»¶å¤§å°æ­£å¸¸ä½†åˆ†è¾¨ç‡ä½ï¼Œä½†æœ‰EXIFä¿¡æ¯");
                        } else {
                            probability = 50;
                            reportItems.push("åˆ†è¾¨ç‡ä¸ç¬¦åˆQQå‹ç¼©æœºåˆ¶ä½†æœ‰EXIFä¿¡æ¯");
                        }
                        
                        if (isCommonResolution) {
                            probability = 60;
                            reportItems.push(`åˆ†è¾¨ç‡å±äºç½‘å›¾å¸¸è§åˆ†è¾¨ç‡`);
                        }
                        
                        // å¦‚æœæœ‰è®¾å¤‡ä¿¡æ¯å’Œæ›å…‰æ—¶é—´ï¼Œé™ä½ç½‘å›¾å¯èƒ½æ€§
                        if (hasCameraMetadata) {
                            probability = Math.max(probability - 15, 0);
                            reportItems.push("æ£€æµ‹åˆ°è®¾å¤‡ä¿¡æ¯å’Œæ›å…‰æ—¶é—´ï¼Œå¯èƒ½æ˜¯åŸå›¾");
                        }
                        
                        if (beautySoftwareDetected) {
                            reportItems.push(`æ£€æµ‹åˆ°ç¾é¢œè½¯ä»¶ç—•è¿¹: ${beautySoftwareName}`);
                        }
                        
                        conclusion = "ç»“è®ºï¼šå¯èƒ½æ˜¯è£åˆ‡è¿‡åº¦çš„å›¾ç‰‡æˆ–ç½‘å›¾";
                    }
                }
                
                // ç”ŸæˆæŠ¥å‘Š
                reportContainer.innerHTML = '';
                reportItems.forEach(item => {
                    const reportItem = document.createElement('div');
                    reportItem.className = 'report-item';
                    reportItem.textContent = item;
                    reportContainer.appendChild(reportItem);
                });
                
                document.getElementById('conclusion').textContent = conclusion;
                
                // æ˜¾ç¤ºç¾é¢œè½¯ä»¶æ£€æµ‹ç»“æœ
                if (beautySoftwareDetected) {
                    beautySoftwareContainer.innerHTML = `
                        <div class="beauty-software">
                            ğŸ–¼ï¸ æ£€æµ‹åˆ°ç¾é¢œè½¯ä»¶ç—•è¿¹: ${beautySoftwareName}
                        </div>
                    `;
                } else {
                    beautySoftwareContainer.innerHTML = '';
                }
                
                // æ›´æ–°æ¦‚ç‡æ–‡å­—æ˜¾ç¤º
                probabilityText.textContent = probability + '%';
                
                // æ ¹æ®æ¦‚ç‡è®¾ç½®æ–‡å­—é¢œè‰²
                if (probability < 30) {
                    probabilityText.className = 'probability-text probability-low';
                } else if (probability < 70) {
                    probabilityText.className = 'probability-text probability-medium';
                } else {
                    probabilityText.className = 'probability-text probability-high';
                }
            }
        });
    </script>
</body>
</html>